<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Firework DevForum Style</title>
<style>
html,body{
  margin:0;
  background:#0b050f;
  overflow:hidden;
}
canvas{display:block}
</style>
</head>
<body>
<canvas id="c"></canvas>

<script>
const c = document.getElementById("c");
const ctx = c.getContext("2d");
c.width = innerWidth;
c.height = innerHeight;
onresize=()=>{c.width=innerWidth;c.height=innerHeight};

const GRAVITY = 0.03;
let particles=[];

class Particle{
  constructor(x,y,vx,vy,type,color){
    this.x=x; this.y=y;
    this.vx=vx; this.vy=vy;
    this.life=1;
    this.type=type;
    this.color=color;
    this.rot=Math.random()*Math.PI;
  }
  update(){
    this.x+=this.vx;
    this.y+=this.vy;
    this.vy+=GRAVITY;
    this.life-=0.01;
    this.rot+=0.1;
  }
  draw(){
    ctx.save();
    ctx.globalAlpha=this.life;
    ctx.shadowBlur=10;
    ctx.shadowColor=this.color;
    ctx.fillStyle=this.color;

    if(this.type==="line"){
      ctx.translate(this.x,this.y);
      ctx.rotate(this.rot);
      ctx.fillRect(-1,-6,2,12);
    }
    else if(this.type==="dot"){
      ctx.beginPath();
      ctx.arc(this.x,this.y,1.2,0,Math.PI*2);
      ctx.fill();
    }
    else if(this.type==="petal"){
      ctx.translate(this.x,this.y);
      ctx.rotate(this.rot);
      ctx.fillRect(-1,-3,2,6);
    }

    ctx.restore();
  }
}

function explode(x,y,style){
  let count= style==="dot"?800:200;
  for(let i=0;i<count;i++){
    let a=Math.random()*Math.PI*2;
    let s=Math.random()*4+1;
    particles.push(
      new Particle(
        x,y,
        Math.cos(a)*s,
        Math.sin(a)*s,
        style,
        style==="dot"?"gold":
        style==="petal"?"hotpink":
        "white"
      )
    );
  }
}

function loop(){
  ctx.fillStyle="rgba(0,0,0,0.2)";
  ctx.fillRect(0,0,c.width,c.height);

  particles.forEach((p,i)=>{
    p.update();
    p.draw();
    if(p.life<=0) particles.splice(i,1);
  });

  requestAnimationFrame(loop);
}

setInterval(()=>{
  const styles=["line","dot","petal"];
  explode(
    Math.random()*c.width,
    Math.random()*c.height/2,
    styles[Math.floor(Math.random()*styles.length)]
  );
},1000);

loop();
</script>
</body>
</html>
